"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const react_transition_group_1 = require("react-transition-group");
const Toast_1 = __importDefault(require("./Toast"));
const ToastManager_1 = __importDefault(require("./ToastManager"));
const ToastMessage_1 = __importDefault(require("./ToastMessage"));
const Toaster = () => {
    const { toast: toastFromContext } = react_1.default.useContext(ToastManager_1.default);
    const [toast, setToast] = react_1.default.useState();
    react_1.default.useEffect(() => {
        setToast(toastFromContext);
    }, [toastFromContext !== undefined && toast === undefined]);
    return (react_1.default.createElement(react_transition_group_1.Transition, { timeout: 300, in: !!(toast && toastFromContext && toast === toastFromContext), onExited: () => setToast(undefined) }, state => {
        return (react_1.default.createElement(Toast_1.default, { stage: state },
            react_1.default.createElement(ToastMessage_1.default, { type: toast && toast.type, message: (toast && toast.content) || '' })));
    }));
};
exports.default = Toaster;
//# sourceMappingURL=Toaster.js.map