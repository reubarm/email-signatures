#!/usr/bin/env bash

set -eu

if [ ! -d ./node_modules/react-native ]; then
  echo 'This script needs to be run from the root of a React Native project!'
  exit 1
fi

VSCODE_ROOT=../node_modules/@fairfx/wc-configs/mobile/vscode

declare -a VSCODE_FILES=(extensions.json launch.json settings.json)

for VSCODE_FILE in "${VSCODE_FILES[@]}"
do
  rm -f ./.vscode/"${VSCODE_FILE}"
  mkdir -p ./.vscode
  ln -s "${VSCODE_ROOT}/${VSCODE_FILE}" ./.vscode/"${VSCODE_FILE}"
done
