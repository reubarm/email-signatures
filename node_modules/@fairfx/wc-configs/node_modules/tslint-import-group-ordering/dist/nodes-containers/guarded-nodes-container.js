"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const memoize_last_value_1 = require("./memoize-last-value");
class GuardedNodesContainer {
    constructor(nodesContainer, predicate) {
        this.nodesContainer = nodesContainer;
        this.matches = memoize_last_value_1.memoizeLastValue(predicate);
    }
    addNode(node) {
        if (!this.matches(node)) {
            throw new Error('The node does not match the predicate');
        }
        this.nodesContainer.addNode(node);
    }
    copyNodesFrom(_) {
        throw new Error('Not implemented');
    }
    isEmpty() {
        return this.nodesContainer.isEmpty();
    }
    getTextRange() {
        return this.nodesContainer.getTextRange();
    }
    toString() {
        return this.nodesContainer.toString();
    }
}
exports.GuardedNodesContainer = GuardedNodesContainer;
