{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/reubarm/Downloads/email-signatures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ToastConsumer = exports.ToastProvider = exports.useToasts = exports.ToastContext = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar toastsReducer_1 = __importDefault(require(\"./toastsReducer\"));\n\nvar noop = function noop() {};\n\nvar defaultVal = {\n  add: noop,\n  remove: noop,\n  empty: noop,\n  toast: undefined\n};\n\nvar createTimestampId = function createTimestampId() {\n  return \"toast-\".concat(Date.now());\n};\n\nexports.ToastContext = react_1.default.createContext(defaultVal);\n\nexports.useToasts = function () {\n  return react_1.default.useContext(exports.ToastContext);\n};\n\nvar defaultDismissTimeByType = function defaultDismissTimeByType(type) {\n  return {\n    success: 3000,\n    error: 6000\n  }[type];\n};\n\nexports.ToastProvider = function (_ref) {\n  var children = _ref.children;\n\n  var _react_1$default$useR = react_1.default.useReducer(toastsReducer_1.default, undefined),\n      _react_1$default$useR2 = _slicedToArray(_react_1$default$useR, 2),\n      toast = _react_1$default$useR2[0],\n      dispatch = _react_1$default$useR2[1];\n\n  react_1.default.useEffect(function () {\n    return function () {\n      return toast && clearTimeout(toast.timeoutId);\n    };\n  });\n\n  var add = function add(_a) {\n    var dismissTimerInMs = _a.dismissTimerInMs,\n        toastProps = __rest(_a, [\"dismissTimerInMs\"]);\n\n    if (toast) {\n      clearTimeout(toast.timeoutId);\n    }\n\n    var id = createTimestampId();\n    var timeoutId = setTimeout(function () {\n      return dispatch({\n        type: 'REMOVE'\n      });\n    }, dismissTimerInMs || defaultDismissTimeByType(toastProps.type));\n    dispatch({\n      type: 'ADD',\n      toast: Object.assign(Object.assign({}, toastProps), {\n        id: id,\n        timeoutId: timeoutId\n      })\n    });\n  };\n\n  var empty = function empty() {\n    if (toast) {\n      dispatch({\n        type: 'REMOVE'\n      });\n    }\n  };\n\n  return react_1.default.createElement(exports.ToastContext.Provider, {\n    value: {\n      add: add,\n      empty: empty,\n      toast: toast\n    }\n  }, children);\n};\n\nexports.ToastConsumer = exports.ToastContext.Consumer;\nexports.default = exports.ToastContext;","map":{"version":3,"sources":["../../../src/components/toast-manager/ToastManager.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToastConsumer = exports.ToastProvider = exports.useToasts = exports.ToastContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst toastsReducer_1 = __importDefault(require(\"./toastsReducer\"));\nconst noop = () => { };\nconst defaultVal = {\n    add: noop,\n    remove: noop,\n    empty: noop,\n    toast: undefined,\n};\nconst createTimestampId = () => `toast-${Date.now()}`;\nexports.ToastContext = react_1.default.createContext(defaultVal);\nexports.useToasts = () => react_1.default.useContext(exports.ToastContext);\nconst defaultDismissTimeByType = (type) => ({ success: 3000, error: 6000 }[type]);\nexports.ToastProvider = ({ children }) => {\n    const [toast, dispatch] = react_1.default.useReducer(toastsReducer_1.default, undefined);\n    react_1.default.useEffect(() => () => toast && clearTimeout(toast.timeoutId));\n    const add = (_a) => {\n        var { dismissTimerInMs } = _a, toastProps = __rest(_a, [\"dismissTimerInMs\"]);\n        if (toast) {\n            clearTimeout(toast.timeoutId);\n        }\n        const id = createTimestampId();\n        const timeoutId = setTimeout(() => dispatch({ type: 'REMOVE' }), dismissTimerInMs || defaultDismissTimeByType(toastProps.type));\n        dispatch({ type: 'ADD', toast: Object.assign(Object.assign({}, toastProps), { id, timeoutId }) });\n    };\n    const empty = () => {\n        if (toast) {\n            dispatch({ type: 'REMOVE' });\n        }\n    };\n    return (react_1.default.createElement(exports.ToastContext.Provider, { value: { add, empty, toast } }, children));\n};\nexports.ToastConsumer = exports.ToastContext.Consumer;\nexports.default = exports.ToastContext;\n//# sourceMappingURL=ToastManager.js.map"]},"metadata":{},"sourceType":"script"}