{"ast":null,"code":"\"use strict\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ToastConsumer = exports.ToastProvider = exports.useToasts = exports.ToastContext = void 0;\n\nconst react_1 = __importDefault(require(\"react\"));\n\nconst toastsReducer_1 = __importDefault(require(\"./toastsReducer\"));\n\nconst noop = () => {};\n\nconst defaultVal = {\n  add: noop,\n  remove: noop,\n  empty: noop,\n  toast: undefined\n};\n\nconst createTimestampId = () => `toast-${Date.now()}`;\n\nexports.ToastContext = react_1.default.createContext(defaultVal);\n\nexports.useToasts = () => react_1.default.useContext(exports.ToastContext);\n\nconst defaultDismissTimeByType = type => ({\n  success: 3000,\n  error: 6000\n})[type];\n\nexports.ToastProvider = ({\n  children\n}) => {\n  const [toast, dispatch] = react_1.default.useReducer(toastsReducer_1.default, undefined);\n  react_1.default.useEffect(() => {\n    return () => {\n      if (toast) {\n        clearTimeout(toast.timeoutId);\n      }\n    };\n  }, [toast]);\n\n  const add = _a => {\n    var {\n      dismissTimerInMs\n    } = _a,\n        toastProps = __rest(_a, [\"dismissTimerInMs\"]);\n\n    if (toast) {\n      clearTimeout(toast.timeoutId);\n    }\n\n    const id = createTimestampId();\n    const timeoutId = setTimeout(() => {\n      dispatch({\n        type: 'REMOVE'\n      });\n    }, dismissTimerInMs || defaultDismissTimeByType(toastProps.type));\n    dispatch({\n      type: 'ADD',\n      toast: Object.assign(Object.assign({}, toastProps), {\n        id,\n        timeoutId\n      })\n    });\n  };\n\n  const empty = () => {\n    if (toast) {\n      dispatch({\n        type: 'REMOVE'\n      });\n    }\n  };\n\n  return react_1.default.createElement(exports.ToastContext.Provider, {\n    value: {\n      add,\n      empty,\n      toast\n    }\n  }, children);\n};\n\nexports.ToastConsumer = exports.ToastContext.Consumer;\nexports.default = exports.ToastContext;","map":{"version":3,"sources":["../../../src/components/InteractiveToast/ToastManager.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,MAAA,eAAA,GAAA,eAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,CAAA;;AAQA,MAAM,IAAI,GAAG,MAAK,CAAG,CAArB;;AACA,MAAM,UAAU,GAAG;AACjB,EAAA,GAAG,EAAE,IADY;AAEjB,EAAA,MAAM,EAAE,IAFS;AAGjB,EAAA,KAAK,EAAE,IAHU;AAIjB,EAAA,KAAK,EAAE;AAJU,CAAnB;;AAOA,MAAM,iBAAiB,GAAG,MAAM,SAAS,IAAI,CAAC,GAAL,EAAU,EAAnD;;AAEa,OAAA,CAAA,YAAA,GAAe,OAAA,CAAA,OAAA,CAAM,aAAN,CAAuC,UAAvC,CAAf;;AAEA,OAAA,CAAA,SAAA,GAAY,MAAM,OAAA,CAAA,OAAA,CAAM,UAAN,CAAiB,OAAA,CAAA,YAAjB,CAAlB;;AAEb,MAAM,wBAAwB,GAAI,IAAD,IAC9B;AAAE,EAAA,OAAO,EAAE,IAAX;AAAiB,EAAA,KAAK,EAAE;AAAxB,GAA+B,IAA/B,CADH;;AAGa,OAAA,CAAA,aAAA,GAAgB,CAAC;AAAE,EAAA;AAAF,CAAD,KAAiB;AAC5C,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,OAAA,CAAA,OAAA,CAAM,UAAN,CAAiB,eAAA,CAAA,OAAjB,EAAgC,SAAhC,CAA1B;AAEA,EAAA,OAAA,CAAA,OAAA,CAAM,SAAN,CAAgB,MAAK;AACnB,WAAO,MAAK;AACV,UAAI,KAAJ,EAAW;AACT,QAAA,YAAY,CAAC,KAAK,CAAC,SAAP,CAAZ;AACD;AACF,KAJD;AAKD,GAND,EAMG,CAAC,KAAD,CANH;;AAQA,QAAM,GAAG,GAAgB,EAAD,IAAwC;QAAvC;AAAE,MAAA;AAAF,QAAkB,E;QAAK,UAAU,GAAA,MAAA,CAAA,EAAA,EAAjC,CAAA,kBAAA,CAAiC,C;;AACxD,QAAI,KAAJ,EAAW;AACT,MAAA,YAAY,CAAC,KAAK,CAAC,SAAP,CAAZ;AACD;;AAED,UAAM,EAAE,GAAG,iBAAiB,EAA5B;AAEA,UAAM,SAAS,GAAG,UAAU,CAAC,MAAK;AAChC,MAAA,QAAQ,CAAC;AAAE,QAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAF2B,EAEzB,gBAAgB,IAAI,wBAAwB,CAAC,UAAU,CAAC,IAAZ,CAFnB,CAA5B;AAIA,IAAA,QAAQ,CAAC;AAAE,MAAA,IAAI,EAAE,KAAR;AAAe,MAAA,KAAK,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAO,UAAP,CAAA,EAAiB;AAAE,QAAA,EAAF;AAAM,QAAA;AAAN,OAAjB;AAApB,KAAD,CAAR;AACD,GAZD;;AAcA,QAAM,KAAK,GAAiB,MAAK;AAC/B,QAAI,KAAJ,EAAW;AACT,MAAA,QAAQ,CAAC;AAAE,QAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD;AACF,GAJD;;AAMA,SACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,OAAA,CAAA,YAAA,CAAa,QAAd,EAAsB;AAAC,IAAA,KAAK,EAAE;AAAE,MAAA,GAAF;AAAO,MAAA,KAAP;AAAc,MAAA;AAAd;AAAR,GAAtB,EACG,QADH,CADF;AAKD,CApCY;;AAsCA,OAAA,CAAA,aAAA,GAAgB,OAAA,CAAA,YAAA,CAAa,QAA7B;AAEb,OAAA,CAAA,OAAA,GAAe,OAAA,CAAA,YAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToastConsumer = exports.ToastProvider = exports.useToasts = exports.ToastContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst toastsReducer_1 = __importDefault(require(\"./toastsReducer\"));\nconst noop = () => { };\nconst defaultVal = {\n    add: noop,\n    remove: noop,\n    empty: noop,\n    toast: undefined,\n};\nconst createTimestampId = () => `toast-${Date.now()}`;\nexports.ToastContext = react_1.default.createContext(defaultVal);\nexports.useToasts = () => react_1.default.useContext(exports.ToastContext);\nconst defaultDismissTimeByType = (type) => ({ success: 3000, error: 6000 }[type]);\nexports.ToastProvider = ({ children }) => {\n    const [toast, dispatch] = react_1.default.useReducer(toastsReducer_1.default, undefined);\n    react_1.default.useEffect(() => {\n        return () => {\n            if (toast) {\n                clearTimeout(toast.timeoutId);\n            }\n        };\n    }, [toast]);\n    const add = (_a) => {\n        var { dismissTimerInMs } = _a, toastProps = __rest(_a, [\"dismissTimerInMs\"]);\n        if (toast) {\n            clearTimeout(toast.timeoutId);\n        }\n        const id = createTimestampId();\n        const timeoutId = setTimeout(() => {\n            dispatch({ type: 'REMOVE' });\n        }, dismissTimerInMs || defaultDismissTimeByType(toastProps.type));\n        dispatch({ type: 'ADD', toast: Object.assign(Object.assign({}, toastProps), { id, timeoutId }) });\n    };\n    const empty = () => {\n        if (toast) {\n            dispatch({ type: 'REMOVE' });\n        }\n    };\n    return (react_1.default.createElement(exports.ToastContext.Provider, { value: { add, empty, toast } }, children));\n};\nexports.ToastConsumer = exports.ToastContext.Consumer;\nexports.default = exports.ToastContext;\n//# sourceMappingURL=ToastManager.js.map"]},"metadata":{},"sourceType":"script"}