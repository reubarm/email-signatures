{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst core_1 = require(\"@emotion/core\");\n\nconst react_1 = __importStar(require(\"react\"));\n\nconst react_phone_input_2_1 = __importDefault(require(\"react-phone-input-2\"));\n\nconst theme_1 = __importDefault(require(\"../../../theme\"));\n\nconst PhoneInput_styles_1 = require(\"./PhoneInput.styles\");\n\nconst ReactPhoneInputWrapper = theme_1.default(PhoneInput_styles_1.ReactPhoneInputWrapper)`\n  ${({\n  hasLabel\n}) => hasLabel ? core_1.css`\n          .react-tel-input .form-control {\n            padding-top: 20px;\n          }\n        ` : core_1.css`\n          .special-label {\n            display: none;\n          }\n        `}\n`;\n\nconst PhoneInput = ({\n  onChange,\n  isError,\n  label\n}) => {\n  const [value, setValue] = react_1.useState('');\n\n  const handleOnChange = (val, data) => {\n    const rawPhone = val.replace(/[^0-9]+/g, '').slice(data.dialCode.length);\n    const phone = `${data.dialCode}${rawPhone.charAt(0) === '0' ? rawPhone.substr(1) : rawPhone}`;\n    setValue(phone);\n\n    if (onChange) {\n      onChange(phone);\n    }\n  };\n\n  return react_1.default.createElement(PhoneInput_styles_1.Wrapper, {\n    isError: isError\n  }, react_1.default.createElement(ReactPhoneInputWrapper, {\n    hasLabel: !!label\n  }, react_1.default.createElement(react_phone_input_2_1.default, {\n    country: \"gb\",\n    autoFormat: true,\n    specialLabel: label,\n    value: value,\n    onChange: handleOnChange\n  })));\n};\n\nexports.default = PhoneInput;","map":{"version":3,"sources":["../../../../src/components/forms/PhoneInput/PhoneInput.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAA,MAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AACA,MAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,MAAA,qBAAA,GAAA,eAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;;AAEA,MAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AAEA,MAAA,mBAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AAcA,MAAM,sBAAsB,GAAG,OAAA,CAAA,OAAA,CAAO,mBAAA,CAAA,sBAAP,CAE7B;IACE,CAAC;AAAE,EAAA;AAAF,CAAD,KACA,QAAQ,GACJ,MAAA,CAAA,GAAG;;;;AAIF,SALG,GAMJ,MAAA,CAAA,GAAG;;;;AAIF,SAAA;AACR,CAfD;;AAqBA,MAAM,UAAU,GAAG,CAAC;AAAE,EAAA,QAAF;AAAY,EAAA,OAAZ;AAAqB,EAAA;AAArB,CAAD,KAAkD;AACnE,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,OAAA,CAAA,QAAA,CAAS,EAAT,CAA1B;;AAEA,QAAM,cAAc,GAAG,CAAC,GAAD,EAAc,IAAd,KAAgC;AACrD,UAAM,QAAQ,GAAW,GAAG,CACzB,OADsB,CACd,UADc,EACF,EADE,EAEtB,KAFsB,CAEhB,IAAI,CAAC,QAAL,CAAc,MAFE,CAAzB;AAIA,UAAM,KAAK,GAAG,GAAG,IAAI,CAAC,QAAQ,GAC5B,QAAQ,CAAC,MAAT,CAAgB,CAAhB,MAAuB,GAAvB,GAA6B,QAAQ,CAAC,MAAT,CAAgB,CAAhB,CAA7B,GAAkD,QACpD,EAFA;AAIA,IAAA,QAAQ,CAAC,KAAD,CAAR;;AAEA,QAAI,QAAJ,EAAc;AACZ,MAAA,QAAQ,CAAC,KAAD,CAAR;AACD;AACF,GAdD;;AAgBA,SACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,mBAAA,CAAA,OAAD,EAAQ;AAAC,IAAA,OAAO,EAAE;AAAV,GAAR,EACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,sBAAD,EAAuB;AAAC,IAAA,QAAQ,EAAE,CAAC,CAAC;AAAb,GAAvB,EACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,qBAAA,CAAA,OAAD,EAAgB;AACd,IAAA,OAAO,EAAC,IADM;AAEd,IAAA,UAAU,EAAA,IAFI;AAGd,IAAA,YAAY,EAAE,KAHA;AAId,IAAA,KAAK,EAAE,KAJO;AAKd,IAAA,QAAQ,EAAE;AALI,GAAhB,CADF,CADF,CADF;AAaD,CAhCD;;AAkCA,OAAA,CAAA,OAAA,GAAe,UAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"@emotion/core\");\nconst react_1 = __importStar(require(\"react\"));\nconst react_phone_input_2_1 = __importDefault(require(\"react-phone-input-2\"));\nconst theme_1 = __importDefault(require(\"../../../theme\"));\nconst PhoneInput_styles_1 = require(\"./PhoneInput.styles\");\nconst ReactPhoneInputWrapper = theme_1.default(PhoneInput_styles_1.ReactPhoneInputWrapper) `\n  ${({ hasLabel }) => hasLabel\n    ? core_1.css `\n          .react-tel-input .form-control {\n            padding-top: 20px;\n          }\n        `\n    : core_1.css `\n          .special-label {\n            display: none;\n          }\n        `}\n`;\nconst PhoneInput = ({ onChange, isError, label }) => {\n    const [value, setValue] = react_1.useState('');\n    const handleOnChange = (val, data) => {\n        const rawPhone = val\n            .replace(/[^0-9]+/g, '')\n            .slice(data.dialCode.length);\n        const phone = `${data.dialCode}${rawPhone.charAt(0) === '0' ? rawPhone.substr(1) : rawPhone}`;\n        setValue(phone);\n        if (onChange) {\n            onChange(phone);\n        }\n    };\n    return (react_1.default.createElement(PhoneInput_styles_1.Wrapper, { isError: isError },\n        react_1.default.createElement(ReactPhoneInputWrapper, { hasLabel: !!label },\n            react_1.default.createElement(react_phone_input_2_1.default, { country: \"gb\", autoFormat: true, specialLabel: label, value: value, onChange: handleOnChange }))));\n};\nexports.default = PhoneInput;\n//# sourceMappingURL=PhoneInput.js.map"]},"metadata":{},"sourceType":"script"}