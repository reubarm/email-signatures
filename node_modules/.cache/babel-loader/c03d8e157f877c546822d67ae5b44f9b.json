{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/reubarm/Downloads/email-signatures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar web_1 = require(\"@fairfx/geometry-icons/web\");\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\n\nvar hooks_1 = require(\"../../hooks\");\n\nvar Button_1 = require(\"../Button\");\n\nvar PrimitiveModal_components_1 = require(\"./PrimitiveModal.components\");\n\nvar createDivElement = function createDivElement() {\n  if (typeof window !== 'undefined') {\n    return document.createElement('div');\n  }\n\n  return undefined;\n};\n\nvar getModalRoot = function getModalRoot() {\n  if (typeof window !== 'undefined') {\n    return document.getElementById('modal-root');\n  }\n\n  return null;\n};\n\nvar PrimitiveModal = react_1.default.forwardRef(function (props, ref) {\n  var children = props.children,\n      _props$padding = props.padding,\n      padding = _props$padding === void 0 ? '4' : _props$padding,\n      _props$open = props.open,\n      propOpen = _props$open === void 0 ? false : _props$open,\n      _props$backdropVisibl = props.backdropVisible,\n      backdropVisible = _props$backdropVisibl === void 0 ? true : _props$backdropVisibl,\n      _props$closeButtonVis = props.closeButtonVisible,\n      closeButtonVisible = _props$closeButtonVis === void 0 ? true : _props$closeButtonVis,\n      _props$handleEscape = props.handleEscape,\n      handleEscape = _props$handleEscape === void 0 ? true : _props$handleEscape,\n      _props$minWidth = props.minWidth,\n      minWidth = _props$minWidth === void 0 ? '0' : _props$minWidth,\n      _props$minHeight = props.minHeight,\n      minHeight = _props$minHeight === void 0 ? '0' : _props$minHeight,\n      onClose = props.onClose,\n      onOpen = props.onOpen,\n      overflow = props.overflow;\n\n  var _react_1$default$useS = react_1.default.useState(createDivElement()),\n      _react_1$default$useS2 = _slicedToArray(_react_1$default$useS, 1),\n      container = _react_1$default$useS2[0];\n\n  var _react_1$default$useS3 = react_1.default.useState(getModalRoot()),\n      _react_1$default$useS4 = _slicedToArray(_react_1$default$useS3, 1),\n      modalRoot = _react_1$default$useS4[0];\n\n  var _react_1$default$useS5 = react_1.default.useState(propOpen),\n      _react_1$default$useS6 = _slicedToArray(_react_1$default$useS5, 2),\n      open = _react_1$default$useS6[0],\n      setOpen = _react_1$default$useS6[1];\n\n  var modalRef = react_1.default.useRef(null);\n\n  var handleClose = function handleClose() {\n    if (onClose) {\n      onClose();\n    }\n\n    setOpen(false);\n  };\n\n  var handleOpen = function handleOpen() {\n    if (onOpen) {\n      onOpen();\n    }\n\n    setOpen(true);\n  };\n\n  var toggleOpen = function toggleOpen() {\n    setOpen(!open);\n  };\n\n  react_1.default.useEffect(function () {\n    if (modalRoot && container) {\n      modalRoot.appendChild(container);\n    }\n\n    return function () {\n      if (modalRoot && container) {\n        modalRoot.removeChild(container);\n      }\n    };\n  }, []);\n  hooks_1.useEscape(modalRef, function () {\n    if (handleEscape) {\n      handleClose();\n    }\n  });\n  react_1.default.useImperativeHandle(ref, function () {\n    return {\n      setOpen: setOpen,\n      open: open,\n      handleClose: handleClose,\n      handleOpen: handleOpen,\n      toggleOpen: toggleOpen\n    };\n  });\n\n  if (!container) {\n    return null;\n  }\n\n  if (!open) {\n    return null;\n  }\n\n  return react_dom_1.default.createPortal(react_1.default.createElement(PrimitiveModal_components_1.Backdrop, {\n    \"data-testid\": \"backdrop\",\n    backdropVisible: backdropVisible,\n    className: \"modal-backdrop\"\n  }, react_1.default.createElement(PrimitiveModal_components_1.ModalRoot, {\n    ref: modalRef,\n    \"data-testid\": \"modal\",\n    padding: padding,\n    minWidth: minWidth,\n    minHeight: minHeight,\n    className: \"modal-container\",\n    overflow: overflow\n  }, closeButtonVisible && react_1.default.createElement(PrimitiveModal_components_1.CloseButtonWrapper, {\n    padding: padding,\n    className: \"modal-close-button-wrapper\"\n  }, react_1.default.createElement(Button_1.TertiaryButton, {\n    type: \"button\",\n    className: \"modal-close-button\",\n    icon: web_1.IconExit,\n    size: \"small\",\n    onClick: handleClose\n  })), children)), container);\n});\nPrimitiveModal.displayName = 'PrimitiveModal';\nexports.default = PrimitiveModal;","map":{"version":3,"sources":["../../../src/components/PrimitiveModal/PrimitiveModal.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst web_1 = require(\"@fairfx/geometry-icons/web\");\nconst react_1 = __importDefault(require(\"react\"));\nconst react_dom_1 = __importDefault(require(\"react-dom\"));\nconst hooks_1 = require(\"../../hooks\");\nconst Button_1 = require(\"../Button\");\nconst PrimitiveModal_components_1 = require(\"./PrimitiveModal.components\");\nconst createDivElement = () => {\n    if (typeof window !== 'undefined') {\n        return document.createElement('div');\n    }\n    return undefined;\n};\nconst getModalRoot = () => {\n    if (typeof window !== 'undefined') {\n        return document.getElementById('modal-root');\n    }\n    return null;\n};\nconst PrimitiveModal = react_1.default.forwardRef((props, ref) => {\n    const { children, padding = '4', open: propOpen = false, backdropVisible = true, closeButtonVisible = true, handleEscape = true, minWidth = '0', minHeight = '0', onClose, onOpen, overflow, } = props;\n    const [container] = react_1.default.useState(createDivElement());\n    const [modalRoot] = react_1.default.useState(getModalRoot());\n    const [open, setOpen] = react_1.default.useState(propOpen);\n    const modalRef = react_1.default.useRef(null);\n    const handleClose = () => {\n        if (onClose) {\n            onClose();\n        }\n        setOpen(false);\n    };\n    const handleOpen = () => {\n        if (onOpen) {\n            onOpen();\n        }\n        setOpen(true);\n    };\n    const toggleOpen = () => {\n        setOpen(!open);\n    };\n    react_1.default.useEffect(() => {\n        if (modalRoot && container) {\n            modalRoot.appendChild(container);\n        }\n        return () => {\n            if (modalRoot && container) {\n                modalRoot.removeChild(container);\n            }\n        };\n    }, []);\n    hooks_1.useEscape(modalRef, () => {\n        if (handleEscape) {\n            handleClose();\n        }\n    });\n    react_1.default.useImperativeHandle(ref, () => ({\n        setOpen,\n        open,\n        handleClose,\n        handleOpen,\n        toggleOpen,\n    }));\n    if (!container) {\n        return null;\n    }\n    if (!open) {\n        return null;\n    }\n    return react_dom_1.default.createPortal(react_1.default.createElement(PrimitiveModal_components_1.Backdrop, { \"data-testid\": \"backdrop\", backdropVisible: backdropVisible, className: \"modal-backdrop\" },\n        react_1.default.createElement(PrimitiveModal_components_1.ModalRoot, { ref: modalRef, \"data-testid\": \"modal\", padding: padding, minWidth: minWidth, minHeight: minHeight, className: \"modal-container\", overflow: overflow },\n            closeButtonVisible && (react_1.default.createElement(PrimitiveModal_components_1.CloseButtonWrapper, { padding: padding, className: \"modal-close-button-wrapper\" },\n                react_1.default.createElement(Button_1.TertiaryButton, { type: \"button\", className: \"modal-close-button\", icon: web_1.IconExit, size: \"small\", onClick: handleClose }))),\n            children)), container);\n});\nPrimitiveModal.displayName = 'PrimitiveModal';\nexports.default = PrimitiveModal;\n//# sourceMappingURL=PrimitiveModal.js.map"]},"metadata":{},"sourceType":"script"}