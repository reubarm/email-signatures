{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst web_1 = require(\"@fairfx/geometry-icons/web\");\n\nconst react_1 = __importDefault(require(\"react\"));\n\nconst react_dom_1 = __importDefault(require(\"react-dom\"));\n\nconst hooks_1 = require(\"../../hooks\");\n\nconst Button_1 = require(\"../Button\");\n\nconst PrimitiveModal_components_1 = require(\"./PrimitiveModal.components\");\n\nconst createDivElement = () => {\n  if (typeof window !== 'undefined') {\n    return document.createElement('div');\n  }\n\n  return undefined;\n};\n\nconst getModalRoot = () => {\n  if (typeof window !== 'undefined') {\n    return document.getElementById('modal-root');\n  }\n\n  return null;\n};\n\nconst PrimitiveModal = react_1.default.forwardRef((props, ref) => {\n  const {\n    children,\n    padding = '4',\n    open: propOpen = false,\n    backdropVisible = true,\n    closeButtonVisible = true,\n    handleEscape = true,\n    minWidth = '0',\n    minHeight = '0',\n    onClose,\n    onOpen,\n    overflow\n  } = props;\n  const [container] = react_1.default.useState(createDivElement());\n  const [modalRoot] = react_1.default.useState(getModalRoot());\n  const [open, setOpen] = react_1.default.useState(propOpen);\n  const modalRef = react_1.default.useRef(null);\n\n  const handleClose = () => {\n    if (onClose) {\n      onClose();\n    }\n\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    if (onOpen) {\n      onOpen();\n    }\n\n    setOpen(true);\n  };\n\n  const toggleOpen = () => {\n    setOpen(!open);\n  };\n\n  react_1.default.useEffect(() => {\n    if (modalRoot && container) {\n      modalRoot.appendChild(container);\n    }\n\n    return () => {\n      if (modalRoot && container) {\n        modalRoot.removeChild(container);\n      }\n    };\n  }, []);\n  hooks_1.useEscape(modalRef, () => {\n    if (handleEscape) {\n      handleClose();\n    }\n  });\n  react_1.default.useImperativeHandle(ref, () => ({\n    setOpen,\n    open,\n    handleClose,\n    handleOpen,\n    toggleOpen\n  }));\n\n  if (!container) {\n    return null;\n  }\n\n  if (!open) {\n    return null;\n  }\n\n  return react_dom_1.default.createPortal(react_1.default.createElement(PrimitiveModal_components_1.Backdrop, {\n    \"data-testid\": \"backdrop\",\n    backdropVisible: backdropVisible,\n    className: \"modal-backdrop\"\n  }, react_1.default.createElement(PrimitiveModal_components_1.ModalRoot, {\n    ref: modalRef,\n    \"data-testid\": \"modal\",\n    padding: padding,\n    minWidth: minWidth,\n    minHeight: minHeight,\n    className: \"modal-container\",\n    overflow: overflow\n  }, closeButtonVisible && react_1.default.createElement(PrimitiveModal_components_1.CloseButtonWrapper, {\n    padding: padding,\n    className: \"modal-close-button-wrapper\"\n  }, react_1.default.createElement(Button_1.TertiaryButton, {\n    type: \"button\",\n    className: \"modal-close-button\",\n    icon: web_1.IconExit,\n    size: \"small\",\n    onClick: handleClose\n  })), children)), container);\n});\nPrimitiveModal.displayName = 'PrimitiveModal';\nexports.default = PrimitiveModal;","map":{"version":3,"sources":["../../../src/components/PrimitiveModal/PrimitiveModal.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst web_1 = require(\"@fairfx/geometry-icons/web\");\nconst react_1 = __importDefault(require(\"react\"));\nconst react_dom_1 = __importDefault(require(\"react-dom\"));\nconst hooks_1 = require(\"../../hooks\");\nconst Button_1 = require(\"../Button\");\nconst PrimitiveModal_components_1 = require(\"./PrimitiveModal.components\");\nconst createDivElement = () => {\n    if (typeof window !== 'undefined') {\n        return document.createElement('div');\n    }\n    return undefined;\n};\nconst getModalRoot = () => {\n    if (typeof window !== 'undefined') {\n        return document.getElementById('modal-root');\n    }\n    return null;\n};\nconst PrimitiveModal = react_1.default.forwardRef((props, ref) => {\n    const { children, padding = '4', open: propOpen = false, backdropVisible = true, closeButtonVisible = true, handleEscape = true, minWidth = '0', minHeight = '0', onClose, onOpen, overflow, } = props;\n    const [container] = react_1.default.useState(createDivElement());\n    const [modalRoot] = react_1.default.useState(getModalRoot());\n    const [open, setOpen] = react_1.default.useState(propOpen);\n    const modalRef = react_1.default.useRef(null);\n    const handleClose = () => {\n        if (onClose) {\n            onClose();\n        }\n        setOpen(false);\n    };\n    const handleOpen = () => {\n        if (onOpen) {\n            onOpen();\n        }\n        setOpen(true);\n    };\n    const toggleOpen = () => {\n        setOpen(!open);\n    };\n    react_1.default.useEffect(() => {\n        if (modalRoot && container) {\n            modalRoot.appendChild(container);\n        }\n        return () => {\n            if (modalRoot && container) {\n                modalRoot.removeChild(container);\n            }\n        };\n    }, []);\n    hooks_1.useEscape(modalRef, () => {\n        if (handleEscape) {\n            handleClose();\n        }\n    });\n    react_1.default.useImperativeHandle(ref, () => ({\n        setOpen,\n        open,\n        handleClose,\n        handleOpen,\n        toggleOpen,\n    }));\n    if (!container) {\n        return null;\n    }\n    if (!open) {\n        return null;\n    }\n    return react_dom_1.default.createPortal(react_1.default.createElement(PrimitiveModal_components_1.Backdrop, { \"data-testid\": \"backdrop\", backdropVisible: backdropVisible, className: \"modal-backdrop\" },\n        react_1.default.createElement(PrimitiveModal_components_1.ModalRoot, { ref: modalRef, \"data-testid\": \"modal\", padding: padding, minWidth: minWidth, minHeight: minHeight, className: \"modal-container\", overflow: overflow },\n            closeButtonVisible && (react_1.default.createElement(PrimitiveModal_components_1.CloseButtonWrapper, { padding: padding, className: \"modal-close-button-wrapper\" },\n                react_1.default.createElement(Button_1.TertiaryButton, { type: \"button\", className: \"modal-close-button\", icon: web_1.IconExit, size: \"small\", onClick: handleClose }))),\n            children)), container);\n});\nPrimitiveModal.displayName = 'PrimitiveModal';\nexports.default = PrimitiveModal;\n//# sourceMappingURL=PrimitiveModal.js.map"]},"metadata":{},"sourceType":"script"}